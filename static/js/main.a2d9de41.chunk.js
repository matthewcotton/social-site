(this["webpackJsonpsocial-site"]=this["webpackJsonpsocial-site"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(25),o=n.n(s),i=(n(70),n(12)),u=n(115),j=n(10),l=n(13),b=n(116),d=n(118),h=Object(a.createContext)(null),x=Object(a.createContext)(null);n(71);var O=function(e){var t=e.logout,n=Object(a.useContext)(h).user;return Object(r.jsxs)(b.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(r.jsx)(j.b,{to:"/",children:Object(r.jsx)(b.a.Brand,{children:"FaceBuck"})}),Object(r.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(d.a,{className:"mr-auto",children:[Object(r.jsx)(b.a.Text,{className:"nav-link",children:Object(r.jsx)(j.b,{to:"/",children:"Deer Feed"})}),Object(r.jsx)(b.a.Text,{className:"nav-link",children:Object(r.jsx)(j.b,{to:"/add",children:"Add Bark"})}),Object(r.jsx)(b.a.Text,{className:"nav-link",children:Object(r.jsx)(j.b,{to:"/house",children:"Hoofed House"})})]}),Object(r.jsxs)(d.a,{children:[Object(r.jsx)(b.a.Text,{className:"nav-link",children:n?Object(r.jsx)(j.b,{to:"/userbarks",children:n.username}):Object(r.jsx)(j.b,{to:"/new-user",children:"New User"})}),Object(r.jsx)(b.a.Text,{className:"nav-link",children:n?Object(r.jsx)("button",{className:"logout-btn navbar-dark ",onClick:function(e){return t()},children:"Log Out"}):Object(r.jsx)(j.b,{to:"/login",children:"Log In"})}),Object(r.jsx)(b.a.Text,{className:"nav-link",children:Object(r.jsx)("a",{href:"https://www.matthewcotton.dev/#/projects",children:"Back to Portfolio"})})]})]})]})},p=n(32),m=n(33),f=n(64),g=n(63),v=(n(29),n(55)),w=(n(77),function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)(v.a,{className:"footer text-right",children:Object(r.jsxs)("p",{className:"license",children:[Object(r.jsx)("a",{href:"https://thenounproject.com/search/?q=hoof&i=3071279",target:"_blank",rel:"noreferrer",children:"hoof"})," ","by P Thanga Vignesh from the Noun Project."," "]})})]})}}]),n}(c.a.Component)),k=n(119),N=n(112),y=n(56),P=(n(78),function(){return Object(r.jsx)(k.a,{className:"no-posts",children:Object(r.jsxs)(k.a.Body,{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{children:Object(r.jsx)("h3",{children:"No Posts"})})}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{children:Object(r.jsxs)("p",{children:["Go to the ",Object(r.jsx)(j.b,{to:"/add",children:"Add Bark"})," Page to create a post or two."]})})})]})})}),C=n(7),T=n.n(C),S=n(11),U=n(113),L=n(114),D=n.p+"static/media/noun_hoof_3071279.40e06e57.png",F=(n(80),n(9)),B=n.n(F),E=(n(22),n(83)),I=function(e){var t=e.currentPost,n=e.refreshPosts,c=e.editable,s=Object(a.useContext)(x).client,o=function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.addLike(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s.deletePost(t.currentTarget.id).then((function(){B.a.success("Your bark was successfully deleted","GONE!"),n()})).catch((function(e){B.a.error(e,"Delete Error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=new Intl.DateTimeFormat("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(t.timestamp),l=E.encode(t);return Object(r.jsx)(k.a,{className:"post",children:Object(r.jsxs)(k.a.Body,{className:"post-body",children:[Object(r.jsxs)(N.a,{children:[Object(r.jsxs)(y.a,{className:"post-col",md:3,xs:5,children:[Object(r.jsx)(U.a,{className:"profile-pic",src:t.imageData.url}),Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:t.imageData.creatorLink,children:t.imageData.creatorUsername})]}),Object(r.jsxs)(y.a,{className:"post-col",xs:7,md:8,children:[Object(r.jsx)("h4",{className:"post-title",children:t.postTitle}),Object(r.jsx)("p",{className:"post-text",children:t.postText})]}),c&&Object(r.jsxs)(y.a,{className:"post-col text-right",children:[Object(r.jsx)(L.a,{className:"edit-btn",variant:"warning",children:Object(r.jsx)(j.b,{className:"edit-link",to:"/editbark?".concat(l),children:"Edit"})}),Object(r.jsx)(L.a,{className:"edit-btn",variant:"warning",id:t._id,onClick:function(e){return i(e)},children:"Delete"})]})]}),Object(r.jsxs)(N.a,{children:[Object(r.jsx)(y.a,{className:"post-col",lg:3,md:4,xs:12,children:Object(r.jsx)("h4",{children:t.username})}),Object(r.jsx)(y.a,{className:"post-col",lg:3,xs:12,children:Object(r.jsxs)(L.a,{className:"like-btn",variant:"warning",id:t._id,onClick:function(e){return o(e.currentTarget.id)},children:[Object(r.jsx)("img",{className:"like-hoof",src:D,alt:"Hoofs Up!"})," ",t.likes," "]})}),Object(r.jsx)(y.a,{className:"post-col align-self-end text-right",children:Object(r.jsx)("p",{children:u})})]})]})})},H=n(58),A=n(57),q=n(59),G=(n(88),function(e){var t=e.currentPage,n="".concat(t,"/#top");return Object(r.jsx)(N.a,{className:"justify-content-end",children:Object(r.jsx)(y.a,{className:"top-btn-col text-right",xs:3,lg:1,children:Object(r.jsx)(H.a,{smooth:!0,to:n,children:Object(r.jsx)(A.a,{className:"arrow-up",icon:q.a,size:"4x"})})})})}),_=function(e){var t=e.refreshPosts,n=e.posts,a=e.editable;return Object(r.jsx)("div",{children:0===n.length?Object(r.jsx)(P,{}):n.map((function(e){return Object(r.jsx)(N.a,{className:"justify-content-md-center",children:Object(r.jsx)(I,{currentPost:e,refreshPosts:t,editable:a},e._id)},e._id)}))})},R=(n(89),function(e){var t=e.refreshPosts;return Object(r.jsxs)(L.a,{className:"refresh-btn",onClick:function(e){return e.currentTarget.id,t()},variant:"warning",children:[Object(r.jsx)("img",{className:"refresh-hoof",src:D,alt:"Fresh feed"}),"(re)Fresh Feed",Object(r.jsx)("img",{className:"refresh-hoof",src:D,alt:"Fresh feed"})]})}),Y=(n(90),function(e){var t=e.buttonText,n=e.preLoadText,c=e.returnPhotoData,s=Object(a.useState)(null),o=Object(i.a)(s,2),u=o[0],j=o[1],l=Object(a.useContext)(x).client,b=function(){var e=Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.unsplashRandomPhoto("deer",1);case 2:t=e.sent,j(t.response),c&&c(t.response[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[null===u?Object(r.jsx)("p",{children:n}):Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(U.a,{className:"random-photo",src:u[0].urls.regular})})}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://unsplash.com/@".concat(u[0].user.username),children:u[0].user.name})})})]}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(L.a,{className:"random-btn",onClick:function(e){return b(e)},variant:"warning",children:t})})})]})}),M=n(8),K=n(117),W=function(e){var t=e.storeUserToken,n=Object(a.useState)({username:"",password:""}),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(a.useContext)(h).setUser,j=Object(a.useContext)(x).client;return Object(r.jsx)(N.a,{children:Object(r.jsxs)(y.a,{className:"text-center",children:[Object(r.jsx)("br",{}),Object(r.jsxs)(K.a,{onSubmit:function(e){return function(e){e.preventDefault(),s.username&&s.password?j.login(s.username,s.password).then((function(e){t(e.data.token),u({username:e.data.username})})).catch((function(e){B.a.error("An error occured while logging in. Please try again. ".concat(e.response.data,"."),"Login Error")})):B.a.error("Please enter username and password.","Username or Password Error")}(e)},children:[Object(r.jsxs)(K.a.Group,{controlId:"loginUsername",children:[Object(r.jsx)(K.a.Label,{children:"Username"}),Object(r.jsx)(K.a.Control,{name:"username",type:"text",value:s.username,placeholder:"enter your username",autoFocus:!0,required:!0,onChange:function(e){return o(Object(M.a)(Object(M.a)({},s),{},{username:e.target.value}))}})]}),Object(r.jsxs)(K.a.Group,{controlId:"loginPassword",children:[Object(r.jsx)(K.a.Label,{children:"Password"}),Object(r.jsx)(K.a.Control,{name:"password",type:"password",value:s.password,placeholder:"enter your password",required:!0,onChange:function(e){return o(Object(M.a)(Object(M.a)({},s),{},{password:e.target.value}))}}),Object(r.jsx)("br",{}),Object(r.jsx)(L.a,{variant:"warning",type:"submit",children:"Log In"})]})]})]})})},z=function(e){var t=e.submitHandler,n=e.bark,a=e.setBark;return Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{xs:12,lg:8,children:[Object(r.jsx)("br",{}),Object(r.jsxs)(K.a,{onSubmit:function(e){return t(e)},children:[Object(r.jsxs)(K.a.Group,{controlId:"postTitle",children:[Object(r.jsx)(K.a.Label,{children:"Post Title*"}),Object(r.jsx)(K.a.Control,{name:"postTitle",type:"text",required:!0,value:n.postTitle,placeholder:"add post title",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{postTitle:e.target.value}))}})]}),Object(r.jsxs)(K.a.Group,{controlId:"postText",children:[Object(r.jsx)(K.a.Label,{children:"Post Text*"}),Object(r.jsx)(K.a.Control,{name:"postText",type:"text",as:"textarea",rows:3,required:!0,value:n.postText,placeholder:"add post text",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{postText:e.target.value}))}})]}),Object(r.jsxs)(K.a.Group,{controlId:"postTags",children:[Object(r.jsx)(K.a.Label,{children:"Tags"}),Object(r.jsx)(K.a.Control,{name:"tags",type:"text",value:n.tags,placeholder:"add tags",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{tags:e.target.value}))}})]}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(L.a,{variant:"warning",type:"submit",children:"Submit"})})})]})]})})},J=(n(91),function(e){var t=e.incrementPostsPosition;return Object(r.jsx)(L.a,{className:"more-btn",onClick:function(){return t()},variant:"warning",children:"More Please"})}),V=function(e){var t=e.submitHandler,n=e.newUser,a=e.setNewUser;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsxs)(K.a,{onSubmit:function(e){return t(e)},children:[Object(r.jsxs)(K.a.Group,{controlId:"newUsername",children:[Object(r.jsx)(K.a.Label,{children:"Username"}),Object(r.jsx)(K.a.Control,{name:"username",type:"text",required:!0,value:n.username,placeholder:"username",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{username:e.target.value}))}})]}),Object(r.jsxs)(K.a.Group,{controlId:"newPassword",children:[Object(r.jsx)(K.a.Label,{children:"Password"}),Object(r.jsx)(K.a.Control,{name:"password1",type:"password",required:!0,value:n.password1,placeholder:"password",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{password1:e.target.value}))}})]}),Object(r.jsxs)(K.a.Group,{controlId:"newPasswordCheck",children:[Object(r.jsx)(K.a.Label,{children:"Repeat Password"}),Object(r.jsx)(K.a.Control,{name:"password2",type:"password",required:!0,value:n.password2,placeholder:"password",onChange:function(e){return a(Object(M.a)(Object(M.a)({},n),{},{password2:e.target.value}))}})]}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(L.a,{variant:"warning",type:"submit",children:"Submit"})})})]})]})},Q=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({limit:10,skip:0}),o=Object(i.a)(s,2),u=o[0],j=o[1],l=Object(a.useContext)(x).client,b=Object(a.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getAllPosts(u.limit,u.skip);case 2:(t=e.sent).length>0?c(t):B.a.warning("No more barks available");case 4:case"end":return e.stop()}}),e)}))),[l,u.skip,u.limit]),d=Object(a.useCallback)((function(){j(Object(M.a)(Object(M.a)({},u),{},{skip:u.skip+u.limit}))}),[u]);return Object(a.useEffect)((function(){b()}),[b]),Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Deer Feed"})]})}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{className:"text-center",xs:8,lg:4,children:Object(r.jsx)(R,{refreshPosts:b})})}),Object(r.jsx)(_,{client:l,posts:n,refreshPosts:b,editable:!1}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(J,{incrementPostsPosition:d})})}),Object(r.jsx)(G,{currentPage:""})]})},X=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Hoofed House"}),Object(r.jsx)("br",{})]})}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{xs:12,lg:8,className:"text-center",children:Object(r.jsx)(Y,{buttonText:"Who's in the House",preLoadText:"Do you want to see a hoofed ruminant mammal?"})})}),Object(r.jsx)(G,{currentPage:"/house"})]})},Z=function(){var e=Object(a.useContext)(h).user,t=Object(a.useState)({username:e.username,postTitle:"",postText:"",imageData:{},tags:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(a.useContext)(x).client,O=function(){var t=Object(S.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c.postTitle&&c.postText){t.next=4;break}return B.a.error("Please complete all form fields.","Complete Form"),t.abrupt("return");case 4:if(c.imageData.url){t.next=7;break}return B.a.error("Please click 'Which deer are you?' to select a photo.","Photo Required"),t.abrupt("return");case 7:return t.next=9,d.addPost(c).then((function(){s({username:e.username,postTitle:"",postText:"",imageData:{},tags:""}),B.a.success("Buck up! Your bark was successfully published.","BARK!"),b(!0)})).catch((function(e){B.a.error(e,"Error")}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:j?Object(r.jsx)(l.a,{to:"/"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Add Bark"}),Object(r.jsx)("br",{})]})}),Object(r.jsxs)(N.a,{children:[Object(r.jsxs)(y.a,{xs:12,lg:6,children:[Object(r.jsx)("br",{}),Object(r.jsx)(Y,{buttonText:"Which deer are you?",preLoadText:"",returnPhotoData:function(e){s(Object(M.a)(Object(M.a)({},c),{},{imageData:{url:e.urls.regular,creatorUsername:e.user.name,creatorLink:"https://unsplash.com/@".concat(e.user.username)}}))}})]}),Object(r.jsx)(y.a,{xs:12,lg:6,children:Object(r.jsx)(z,{submitHandler:O,bark:c,setBark:s})})]})]})})};var $=function(e){var t=e.storeUserToken,n=Object(a.useContext)(h).user,c=new URLSearchParams(Object(l.g)().search).get("route");return c=c||"",n?Object(r.jsx)(l.a,{to:"/".concat(c)}):Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Login"})]})}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{xs:10,md:6,lg:4,children:Object(r.jsx)(W,{storeUserToken:t})})})]})},ee=function(e){var t=Object(a.useContext)(h).user,n=Object(l.g)().pathname,c=(n=n.slice(1,n.length))?"?route=".concat(n):"";return Object(r.jsx)(a.Fragment,{children:t?e.children:Object(r.jsx)(l.a,{to:"/login".concat(c)})})},te=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({limit:10,skip:0}),o=Object(i.a)(s,2),u=o[0],j=o[1],l=Object(a.useContext)(h).user,b=Object(a.useContext)(x).client,d=Object(a.useCallback)(Object(S.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getOneUsersPosts(l.username,u.limit,u.skip);case 2:(t=e.sent).length>0?c(t):B.a.warning("No more barks available");case 4:case"end":return e.stop()}}),e)}))),[b,u,l]),O=Object(a.useCallback)((function(){j(Object(M.a)(Object(M.a)({},u),{},{skip:u.skip+u.limit}))}),[u]);return Object(a.useEffect)((function(){d()}),[d]),Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Your Barks"})]})}),Object(r.jsx)(_,{client:b,posts:n,refreshPosts:d,editable:!0}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{className:"text-center",children:Object(r.jsx)(J,{incrementPostsPosition:O})})}),Object(r.jsx)(G,{currentPage:""})]})};var ne=function(){var e=new URLSearchParams(Object(l.g)().search),t={id:e.get("_id"),username:e.get("username"),postTitle:e.get("postTitle"),postText:e.get("postText"),tags:e.get("tags")},n=Object(a.useState)({id:t.id,username:t.username,postTitle:t.postTitle,postText:t.postText,tags:t.tags}),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),b=j[0],d=j[1],h=Object(a.useContext)(x).client,O=function(){var e=Object(S.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s.postTitle&&s.postText){e.next=4;break}return B.a.error("Please complete all form fields.","Form Error"),e.abrupt("return");case 4:return e.next=6,h.updatePost(t.id,s).then((function(){B.a.success("Buck up! Your bark was successfully updated.","BARK!"),d(!0)})).catch((function(e){B.a.error(e,"Error")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:b?Object(r.jsx)(l.a,{to:"/userbarks"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Edit Bark"}),Object(r.jsx)("br",{})]})}),Object(r.jsx)(N.a,{children:Object(r.jsx)(y.a,{xs:12,children:Object(r.jsx)(z,{submitHandler:O,bark:s,setBark:o})})})]})})},re=function(){var e=Object(a.useState)({username:"",password1:"",password2:""}),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],b=Object(a.useContext)(x).client,d=function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.password1===n.password2){e.next=4;break}return B.a.warning("Your passwords must match.","Password Mismatch"),e.abrupt("return");case 4:return e.next=6,b.addUser(n.username,n.password1).then((function(){c({username:"",password1:"",password2:""}),B.a.success("New Facebuck account created. Please login.","Success!"),j(!0)})).catch((function(e){B.a.error(e.response.data,"New User Account Error")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:u?Object(r.jsx)(l.a,{to:"/login"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsxs)(y.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h1",{className:"text-center",children:"Create a New User Account"}),Object(r.jsx)("br",{})]})}),Object(r.jsx)(N.a,{className:"justify-content-center",children:Object(r.jsx)(y.a,{xs:12,lg:6,children:Object(r.jsx)(V,{submitHandler:d,newUser:n,setNewUser:c})})})]})})},ae=n(21),ce=n.n(ae),se=n(61),oe=n(60),ie="https://lit-harbor-58321.herokuapp.com/",ue=Object(se.a)({accessKey:oe.a.UNSPLASHACCESSKEY}),je=function(){function e(t,n){Object(p.a)(this,e),this.tokenProvider=t,this.logoutHandler=n}return Object(m.a)(e,[{key:"login",value:function(){var e=Object(S.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()({method:"post",url:"".concat(ie,"auth"),data:{username:t,password:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllPosts",value:function(){var e=Object(S.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||0,t=t||10,e.next=4,ce.a.get("".concat(ie,"posts"),{params:{limit:t,skip:n}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOneUsersPosts",value:function(){var e=Object(S.a)(T.a.mark((function e(t,n,r){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||0,n=n||10,e.next=4,ce.a.get("".concat(ie,"posts/user/").concat(t),{params:{limit:n,skip:r}});case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getOnePost",value:function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()({method:"get",url:"".concat(ie,"posts/id/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(S.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()({method:"post",url:"".concat(ie,"user/add"),data:{username:t,password:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addLike",value:function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()({method:"patch",url:"".concat(ie,"posts/like/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeLike",value:function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()({method:"patch",url:"".concat(ie,"posts/unlike/").concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"authenticatedCall",value:function(e,t,n){var r=this;return ce()({method:e,url:t,headers:{authorization:this.tokenProvider()},data:n}).catch((function(e){if(403===e.response.status)return r.logoutHandler(),Promise.reject();throw e}))}},{key:"addPost",value:function(e){var t=Object(M.a)(Object(M.a)({},e),{},{likes:"0",timestamp:Date.now()});return this.authenticatedCall("post","".concat(ie,"posts/add"),t)}},{key:"updatePost",value:function(e,t){return this.authenticatedCall("put","".concat(ie,"posts/").concat(e),t)}},{key:"deletePost",value:function(e){return this.authenticatedCall("delete","".concat(ie,"posts/").concat(e))}},{key:"getUserInfo",value:function(e){return this.authenticatedCall("get","".concat(ie,"user/").concat(e))}},{key:"updateUserInfo",value:function(e,t){return this.authenticatedCall("put","".concat(ie,"user/").concat(e),{newPassword:t})}},{key:"deleteUser",value:function(e){return this.authenticatedCall("delete","".concat(ie,"user/").concat(e))}},{key:"unsplashPhotoSearch",value:function(e,t,n){return ue.search.getPhotos({query:e,count:t,orientation:n}).catch((function(e){throw e}))}},{key:"unsplashRandomPhoto",value:function(e,t){return ue.photos.getRandom({query:e,count:t}).catch((function(e){throw e}))}}]),e}(),le={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"8000",extendedTimeOut:"1000",showEasing:"linear",hideEasing:"linear",showMethod:"show",hideMethod:"hide"},be=(n(109),function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(window.localStorage.getItem("facebuck-token")),o=Object(i.a)(s,2),b=o[0],d=o[1],p=new je((function(){return b}),(function(){return g()})),m=Object(a.useMemo)((function(){return{user:n,setUser:c}}),[n,c]),f={client:p};B.a.options=le;var g=function(){window.localStorage.removeItem("facebuck-token"),d(void 0),c(null),B.a.info("You have been logged out.")};return Object(r.jsx)(j.a,{children:Object(r.jsx)(h.Provider,{value:m,children:Object(r.jsxs)(x.Provider,{value:f,children:[Object(r.jsx)(O,{logout:function(){return g()}}),Object(r.jsx)(u.a,{children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(r.jsx)(Q,{})}}),Object(r.jsx)(l.b,{path:"/new-user",render:function(){return Object(r.jsx)(re,{})}}),Object(r.jsx)(l.b,{path:"/house",render:function(){return Object(r.jsx)(X,{})}}),Object(r.jsx)(l.b,{path:"/login",render:function(){return Object(r.jsx)($,{storeUserToken:function(e){return function(e){window.localStorage.setItem("facebuck-token",e),d(e)}(e)}})}}),Object(r.jsxs)(ee,{children:[Object(r.jsx)(l.b,{path:"/add",render:function(){return Object(r.jsx)(Z,{})}}),Object(r.jsx)(l.b,{path:"/userbarks",render:function(){return Object(r.jsx)(te,{})}}),Object(r.jsx)(l.b,{path:"/editbark",render:function(){return Object(r.jsx)(ne,{})}})]}),Object(r.jsx)(l.b,{path:"/",children:"Error: 404 not found"})]})}),Object(r.jsx)(w,{})]})})})}),de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(be,{})}),document.getElementById("root")),de()},70:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.a2d9de41.chunk.js.map